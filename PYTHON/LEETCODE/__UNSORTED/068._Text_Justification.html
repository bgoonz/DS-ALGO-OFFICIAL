<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>068. Text Justification</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
    <style type="text/css">
      a.sourceLine {
        display: inline-block;
        line-height: 1.25;
      }
      a.sourceLine {
        pointer-events: none;
        color: inherit;
        text-decoration: inherit;
      }
      a.sourceLine:empty {
        height: 1.2em;
      }
      .sourceCode {
        overflow: visible;
      }
      code.sourceCode {
        white-space: pre;
        position: relative;
      }
      div.sourceCode {
        margin: 1em 0;
      }
      pre.sourceCode {
        margin: 0;
      }
      @media screen {
        div.sourceCode {
          overflow: auto;
        }
      }
      @media print {
        code.sourceCode {
          white-space: pre-wrap;
        }
        a.sourceLine {
          text-indent: -1em;
          padding-left: 1em;
        }
      }
      pre.numberSource a.sourceLine {
        position: relative;
        left: -4em;
      }
      pre.numberSource a.sourceLine::before {
        content: attr(title);
        position: relative;
        left: -1em;
        text-align: right;
        vertical-align: baseline;
        border: none;
        pointer-events: all;
        display: inline-block;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        padding: 0 4px;
        width: 4em;
        color: #aaaaaa;
      }
      pre.numberSource {
        margin-left: 3em;
        border-left: 1px solid #aaaaaa;
        padding-left: 4px;
      }
      div.sourceCode {
      }
      @media screen {
        a.sourceLine::before {
          text-decoration: underline;
        }
      }
      code span.al {
        color: #ff0000;
        font-weight: bold;
      } /* Alert */
      code span.an {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Annotation */
      code span.at {
        color: #7d9029;
      } /* Attribute */
      code span.bn {
        color: #40a070;
      } /* BaseN */
      code span.bu {
      } /* BuiltIn */
      code span.cf {
        color: #007020;
        font-weight: bold;
      } /* ControlFlow */
      code span.ch {
        color: #4070a0;
      } /* Char */
      code span.cn {
        color: #880000;
      } /* Constant */
      code span.co {
        color: #60a0b0;
        font-style: italic;
      } /* Comment */
      code span.cv {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Comment let */
      code span.do {
        color: #ba2121;
        font-style: italic;
      } /* Documentation */
      code span.dt {
        color: #902000;
      } /* DataType */
      code span.dv {
        color: #40a070;
      } /* DecVal */
      code span.er {
        color: #ff0000;
        font-weight: bold;
      } /* Error */
      code span.ex {
      } /* Extension */
      code span.fl {
        color: #40a070;
      } /* Float */
      code span.fu {
        color: #06287e;
      } /* Function */
      code span.im {
      } /* Import */
      code span.in {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Information */
      code span.kw {
        color: #007020;
        font-weight: bold;
      } /* Keyword */
      code span.op {
        color: #666666;
      } /* Operator */
      code span.ot {
        color: #007020;
      } /* Other */
      code span.pp {
        color: #bc7a00;
      } /* Preprocessor */
      code span.sc {
        color: #4070a0;
      } /* SpecialChar */
      code span.ss {
        color: #bb6688;
      } /* SpecialString */
      code span.st {
        color: #4070a0;
      } /* String */
      code span.va {
        color: #19177c;
      } /* Variable */
      code span.vs {
        color: #4070a0;
      } /* VerbatimString */
      code span.wa {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Warning */
    </style>
  </head>
  <body>
    <h2 id="text-justification">
      <a href="https://leetcode.com/problems/text-justification/description/"
        >68. Text Justification</a
      >
    </h2>
    <h3 id="problem">Problem:</h3>
    <p>
      Given an array of words and a width <em>maxWidth</em>, format the text
      such that each line has exactly <em>maxWidth</em> characters and is fully
      (left and right) justified.
    </p>
    <p>
      You should pack your words in a greedy approach; that is, pack as many
      words as you can in each line. Pad extra spaces <code>' '</code> when
      necessary so that each line has exactly <em>maxWidth</em> characters.
    </p>
    <p>
      Extra spaces between words should be distributed as evenly as possible. If
      the number of spaces on a line do not divide evenly between words, the
      empty slots on the left will be assigned more spaces than the slots on the
      right.
    </p>
    <p>
      For the last line of text, it should be left justified and no
      <strong>extra</strong> space is inserted between words.
    </p>
    <p><strong>Note:</strong></p>
    <ul>
      <li>
        A word is defined as a character sequence consisting of non-space
        characters only.
      </li>
      <li>
        Each word’s length is guaranteed to be greater than 0 and not exceed
        <em>maxWidth</em>.
      </li>
      <li>The input array <code>words</code> contains at least one word.</li>
    </ul>
    <p><strong>Example 1:</strong></p>
    <pre><code>Input:
words = [&quot;This&quot;, &quot;is&quot;, &quot;an&quot;, &quot;example&quot;, &quot;of&quot;, &quot;text&quot;, &quot;justification.&quot;]
maxWidth = 16
Output:
[
   &quot;This    is    an&quot;,
   &quot;example  of text&quot;,
   &quot;justification.  &quot;
]</code></pre>
    <p><strong>Example 2:</strong></p>
    <pre><code>Input:
words = [&quot;What&quot;,&quot;must&quot;,&quot;be&quot;,&quot;acknowledgment&quot;,&quot;shall&quot;,&quot;be&quot;]
maxWidth = 16
Output:
[
  &quot;What   must   be&quot;,
  &quot;acknowledgment  &quot;,
  &quot;shall be        &quot;
]
Explanation: Note that the last line is &quot;shall be    &quot; instead of &quot;shall     be&quot;,
             because the last line must be left-justified instead of fully-justified.
             Note that the second line is also left-justified becase it contains only one word.</code></pre>
    <p><strong>Example 3:</strong></p>
    <pre><code>Input:
words = [&quot;Science&quot;,&quot;is&quot;,&quot;what&quot;,&quot;we&quot;,&quot;understand&quot;,&quot;well&quot;,&quot;enough&quot;,&quot;to&quot;,&quot;explain&quot;,
         &quot;to&quot;,&quot;a&quot;,&quot;computer.&quot;,&quot;Art&quot;,&quot;is&quot;,&quot;everything&quot;,&quot;else&quot;,&quot;we&quot;,&quot;do&quot;]
maxWidth = 20
Output:
[
  &quot;Science  is  what we&quot;,
  &quot;understand      well&quot;,
  &quot;enough to explain to&quot;,
  &quot;a  computer.  Art is&quot;,
  &quot;everything  else  we&quot;,
  &quot;do                  &quot;
]</code></pre>
    <h3 id="solution">Solution:</h3>
    <ul>
      <li>
        Count the current line width (plus 1 space between each two words).
      </li>
      <li>
        When a line is full:
        <ul>
          <li>If there is only one word, pad spaces at the end.</li>
          <li>
            Otherwise calculate the gap length using <code>Math.ceil</code>.
          </li>
        </ul>
      </li>
      <li>Handle the last line.</li>
    </ul>
    <div class="sourceCode" id="cb4">
      <pre
        class="sourceCode javascript"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="co">/**</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="cv">{string</span><span class="co">[]} words</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="co"> * </span><span class="an">@param</span><span class="co"> </span><span class="cv">{number}</span><span class="co"> maxWidth</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="co"> * </span><span class="an">@return</span><span class="co"> {string[]}</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="co"> */</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="kw">var</span> fullJustify <span class="op">=</span> <span class="kw">function</span>(words<span class="op">,</span> maxWidth) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-7" title="7">  <span class="kw">let</span> start <span class="op">=</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb4-8" title="8">  <span class="kw">let</span> end <span class="op">=</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb4-9" title="9">  <span class="kw">let</span> lineLen <span class="op">=</span> words[start].<span class="at">length</span></a>
<a class="sourceLine" id="cb4-10" title="10">  <span class="kw">const</span> result <span class="op">=</span> []</a>
<a class="sourceLine" id="cb4-11" title="11"></a>
<a class="sourceLine" id="cb4-12" title="12">  <span class="cf">while</span> (end <span class="op">&lt;</span> <span class="va">words</span>.<span class="at">length</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-13" title="13">    <span class="kw">const</span> newLen <span class="op">=</span> words[end].<span class="at">length</span> <span class="op">+</span> <span class="dv">1</span> <span class="op">+</span> lineLen</a>
<a class="sourceLine" id="cb4-14" title="14">    <span class="cf">if</span> (newLen <span class="op">&lt;=</span> maxWidth) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-15" title="15">      lineLen <span class="op">=</span> newLen</a>
<a class="sourceLine" id="cb4-16" title="16">    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-17" title="17">      <span class="kw">let</span> line <span class="op">=</span> <span class="st">&#39;&#39;</span></a>
<a class="sourceLine" id="cb4-18" title="18">      <span class="kw">let</span> nWords <span class="op">=</span> end <span class="op">-</span> start</a>
<a class="sourceLine" id="cb4-19" title="19">      <span class="cf">if</span> (nWords <span class="op">===</span> <span class="dv">1</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-20" title="20">        line <span class="op">=</span> words[start].<span class="at">padEnd</span>(maxWidth)</a>
<a class="sourceLine" id="cb4-21" title="21">      <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-22" title="22">        <span class="kw">let</span> nSpaces <span class="op">=</span> maxWidth <span class="op">-</span> (lineLen <span class="op">-</span> (nWords <span class="op">-</span> <span class="dv">1</span>))</a>
<a class="sourceLine" id="cb4-23" title="23">        <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> start<span class="op">;</span> i <span class="op">&lt;</span> end<span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-24" title="24">          <span class="kw">const</span> gap <span class="op">=</span> <span class="va">Math</span>.<span class="at">ceil</span>(nSpaces / (end <span class="op">-</span> i <span class="op">-</span> <span class="dv">1</span>))</a>
<a class="sourceLine" id="cb4-25" title="25">          line <span class="op">+=</span> words[i] <span class="op">+</span> <span class="st">&#39; &#39;</span>.<span class="at">repeat</span>(gap)</a>
<a class="sourceLine" id="cb4-26" title="26">          nSpaces <span class="op">-=</span> gap</a>
<a class="sourceLine" id="cb4-27" title="27">        <span class="op">}</span></a>
<a class="sourceLine" id="cb4-28" title="28">      <span class="op">}</span></a>
<a class="sourceLine" id="cb4-29" title="29">      <span class="va">result</span>.<span class="at">push</span>(line)</a>
<a class="sourceLine" id="cb4-30" title="30">      start <span class="op">=</span> end</a>
<a class="sourceLine" id="cb4-31" title="31">      lineLen <span class="op">=</span> words[start].<span class="at">length</span></a>
<a class="sourceLine" id="cb4-32" title="32">    <span class="op">}</span></a>
<a class="sourceLine" id="cb4-33" title="33">    end<span class="op">++</span></a>
<a class="sourceLine" id="cb4-34" title="34">  <span class="op">}</span></a>
<a class="sourceLine" id="cb4-35" title="35"></a>
<a class="sourceLine" id="cb4-36" title="36">  <span class="kw">let</span> lastline <span class="op">=</span> words[start]</a>
<a class="sourceLine" id="cb4-37" title="37">  <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> start <span class="op">+</span> <span class="dv">1</span><span class="op">;</span> i <span class="op">&lt;</span> end<span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-38" title="38">    lastline <span class="op">+=</span> <span class="st">&#39; &#39;</span> <span class="op">+</span> words[i]</a>
<a class="sourceLine" id="cb4-39" title="39">  <span class="op">}</span></a>
<a class="sourceLine" id="cb4-40" title="40">  <span class="va">result</span>.<span class="at">push</span>(<span class="va">lastline</span>.<span class="at">padEnd</span>(maxWidth))</a>
<a class="sourceLine" id="cb4-41" title="41"></a>
<a class="sourceLine" id="cb4-42" title="42">  <span class="cf">return</span> result</a>
<a class="sourceLine" id="cb4-43" title="43"><span class="op">};</span></a></code></pre>
    </div>
    <br />
    <hr />
    <br />
  </body>
</html>
