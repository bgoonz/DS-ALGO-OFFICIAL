<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>README</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
    <style type="text/css">
      a.sourceLine {
        display: inline-block;
        line-height: 1.25;
      }
      a.sourceLine {
        pointer-events: none;
        color: inherit;
        text-decoration: inherit;
      }
      a.sourceLine:empty {
        height: 1.2em;
      }
      .sourceCode {
        overflow: visible;
      }
      code.sourceCode {
        white-space: pre;
        position: relative;
      }
      div.sourceCode {
        margin: 1em 0;
      }
      pre.sourceCode {
        margin: 0;
      }
      @media screen {
        div.sourceCode {
          overflow: auto;
        }
      }
      @media print {
        code.sourceCode {
          white-space: pre-wrap;
        }
        a.sourceLine {
          text-indent: -1em;
          padding-left: 1em;
        }
      }
      pre.numberSource a.sourceLine {
        position: relative;
        left: -4em;
      }
      pre.numberSource a.sourceLine::before {
        content: attr(title);
        position: relative;
        left: -1em;
        text-align: right;
        vertical-align: baseline;
        border: none;
        pointer-events: all;
        display: inline-block;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        padding: 0 4px;
        width: 4em;
        color: #aaaaaa;
      }
      pre.numberSource {
        margin-left: 3em;
        border-left: 1px solid #aaaaaa;
        padding-left: 4px;
      }
      div.sourceCode {
      }
      @media screen {
        a.sourceLine::before {
          text-decoration: underline;
        }
      }
      code span.al {
        color: #ff0000;
        font-weight: bold;
      } /* Alert */
      code span.an {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Annotation */
      code span.at {
        color: #7d9029;
      } /* Attribute */
      code span.bn {
        color: #40a070;
      } /* BaseN */
      code span.bu {
      } /* BuiltIn */
      code span.cf {
        color: #007020;
        font-weight: bold;
      } /* ControlFlow */
      code span.ch {
        color: #4070a0;
      } /* Char */
      code span.cn {
        color: #880000;
      } /* Constant */
      code span.co {
        color: #60a0b0;
        font-style: italic;
      } /* Comment */
      code span.cv {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* CommentVar */
      code span.do {
        color: #ba2121;
        font-style: italic;
      } /* Documentation */
      code span.dt {
        color: #902000;
      } /* DataType */
      code span.dv {
        color: #40a070;
      } /* DecVal */
      code span.er {
        color: #ff0000;
        font-weight: bold;
      } /* Error */
      code span.ex {
      } /* Extension */
      code span.fl {
        color: #40a070;
      } /* Float */
      code span.fu {
        color: #06287e;
      } /* Function */
      code span.im {
      } /* Import */
      code span.in {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Information */
      code span.kw {
        color: #007020;
        font-weight: bold;
      } /* Keyword */
      code span.op {
        color: #666666;
      } /* Operator */
      code span.ot {
        color: #007020;
      } /* Other */
      code span.pp {
        color: #bc7a00;
      } /* Preprocessor */
      code span.sc {
        color: #4070a0;
      } /* SpecialChar */
      code span.ss {
        color: #bb6688;
      } /* SpecialString */
      code span.st {
        color: #4070a0;
      } /* String */
      code span.va {
        color: #19177c;
      } /* Variable */
      code span.vs {
        color: #4070a0;
      } /* VerbatimString */
      code span.wa {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Warning */
    </style>
  </head>
  <body>
    <h1 id="product-of-all-other-numbers">Product Of All Other Numbers</h1>
    <h2 id="understanding-the-problem">Understanding the Problem</h2>
    <p>
      This problems asks, given an array of integers as input, to produce
      another array where each value in the resulting is the product of every
      element from the input array <em>except</em> the one at the current index.
      Let’s break that down with some more examples.
    </p>
    <p>
      If we’re given the array <code>[6, 9, 1, 4, 8]</code>, then our function
      should produce an array of the same length, where the value at index 0
      should be the product of every element <em>except</em> the value at index
      0. So index 0 of our result array should be:
    </p>
    <pre><code>[9*1*4*8, ... ] &lt;- No 6 since 6 is the value at index 0 in the input array</code></pre>
    <p>
      In other words, every index in our result array should be the product of
      every array element <em>except</em> the value at the same index in the
      input array. So then the other values in the result array would be:
    </p>
    <pre><code>[288, 6*1*4*8, 6*9*4*8, 6*9*1*8, 6*9*1*4]

-&gt; [288, 192, 1728, 432, 216]</code></pre>
    <p>
      Ok, what about edge cases? Well, what if we’re handed an empty array? We
      should probably just return an empty list then. What about a one element
      array? There are no other values to multiply by in that case. Let’s just
      return the input array then. Once we have an array of at least length two,
      then we should be able to handle that array adequately. Let’s make sure
      with the following two-element array: <code>[66, 4]</code>.
    </p>
    <p>
      With such an input array, the array our function should return would be:
    </p>
    <pre><code>[4*1, 66*1] -&gt; [4, 66]</code></pre>
    <p>
      In the case of a two-element array, since there are no other elements for
      each array element to be multiplied by, we’ll make do by multiplying each
      element by the multiplicative identity 1. This has the same result as
      reversing the two-element array.
    </p>
    <h2 id="coming-up-with-a-strategy">Coming Up With A Strategy</h2>
    <p>
      One straightforward idea that comes to mind could be to use nested loops,
      an outer loop for looping through all the array elements to keep track of
      which element to <em>not</em> multiply by, with an inner loop that
      performs the multiplication of each element. In pseudocode:
    </p>
    <pre><code>def product_of_all_others(arr):
    result = []
    outer loop that keeps track of which element we don&#39;t want to multiply
        inner loop performs the multiplication
            product = 1
            if inner loop index matches outer loop index
                don&#39;t multiply by this value
            otherwise, multiply this value to product
            add product to our result array
    return result</code></pre>
    <p>
      This implementation exhibits O(n^2) runtime, since we’re looping over
      every element as many times as there are elements in the array. The best
      we can probably do as far as runtime is concerned is linear, since there’s
      no way around touching every array element at least once, since we’ll have
      to do that to calculate the running products.
    </p>
    <p>
      Are there any clues in the problem that we could make use of? Since this
      problem is asking us to not include a particular value, could we perhaps
      frame the problem slightly differently? After all, in order to not include
      some element, we could just as well include it and then take it away. How
      do we reverse multiplication? Division! Well, wouldn’t the value that we
      would need at every index be the same as the <em>total</em> product of
      every element in the array, but divided by element at that index?
    </p>
    <p>
      Here’s an idea: what if we calculated the total product of the entire
      array, and then looped through our array, dividing the total product by
      the current array element to get the product of every array element
      <em>except</em> the value at the current index. In pseudocode, that might
      look like this:
    </p>
    <pre><code>def product_of_all_others(arr):
    calculate the total product of every array element
    loop through our array
        divide the total product by the current array element
        add this product to a result array
    return the result array</code></pre>
    <p>
      That seems promising. It would be a linear solution, though we’d have to
      perform two passes over the data, the first time to calculate the total
      product, and the second time to divide the total product by each array
      element. Nonetheless, that is a linear solution!
    </p>
    <p>In python, that might look like the following:</p>
    <div class="sourceCode" id="cb6">
      <pre
        class="sourceCode python"
      ><code class="sourceCode python"><a class="sourceLine" id="cb6-1" title="1"><span class="co"># functools is the module that includes the `reduce` function</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="im">import</span> functools</a>
<a class="sourceLine" id="cb6-3" title="3"></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="kw">def</span> product_of_all_others(arr):</a>
<a class="sourceLine" id="cb6-5" title="5">    <span class="co"># use reduce to calculate the total product</span></a>
<a class="sourceLine" id="cb6-6" title="6">    total_product <span class="op">=</span> <span class="bu">reduce</span>(<span class="kw">lambda</span> x, y: x <span class="op">*</span> y, arr)</a>
<a class="sourceLine" id="cb6-7" title="7">    <span class="co"># return a list of total_product divided by every arr element</span></a>
<a class="sourceLine" id="cb6-8" title="8">    <span class="cf">return</span> [total_product <span class="op">//</span> x <span class="cf">for</span> x <span class="kw">in</span> arr]</a></code></pre>
    </div>
    <p>Short and sweet!</p>
    <p>
      As a follow up, think about how you would solve this problem if division
      was disallowed.
    </p>
  </body>
</html>
