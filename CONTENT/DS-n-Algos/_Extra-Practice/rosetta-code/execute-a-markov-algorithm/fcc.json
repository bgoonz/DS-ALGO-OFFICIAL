{
  "title": "Execute a Markov algorithm",
  "htmlDescription": "<section id=\"description\">\n<p>Create an interpreter for a <a href=\"https://en.wikipedia.org/wiki/Markov%20algorithm\" title=\"wp: Markov algorithm\">Markov Algorithm</a>.</p>\n<p>Rules have the syntax:</p>\n<pre>[ruleset] ::= (([comment] | [rule]) [newline]+)*\n[comment] ::= # {[any character]}\n[rule] ::= [pattern] [whitespace] -> [whitespace] [.] [replacement]\n[whitespace] ::= ([tab] | [space]) [[whitespace]]\n</pre>\n<p>There is one rule per line.</p>\n<p>If there is a <code>.</code> (period) present before the [replacement], then this is a terminating rule in which case the interpreter must halt execution.</p>\n<p>A ruleset consists of a sequence of rules, with optional comments.</p>\n<p>Rulesets</p>\n<p>Use the following tests on entries:</p>\n<p><strong>Ruleset 1:</strong></p>\n<pre># This rules file is extracted from Wikipedia:\n# <code>http://en.wikipedia.org/wiki/Markov_Algorithm</code>\nA -> apple\nB -> bag\nS -> shop\nT -> the\nthe shop -> my brother\na never used -> .terminating rule\n</pre>\n<p>Sample text of <code>I bought a B of As from T S.</code> should generate the output <code>I bought a bag of apples from my brother.</code></p>\n<p><strong>Ruleset 2:</strong></p>\n<p>A test of the terminating rule</p>\n<pre># Slightly modified from the rules on Wikipedia\nA -> apple\nB -> bag\nS -> .shop\nT -> the\nthe shop -> my brother\na never used -> .terminating rule\n</pre>\n<p>Sample text of <code>I bought a B of As from T S.</code> should generate <code>I bought a bag of apples from T shop.</code></p>\n<p><strong>Ruleset 3:</strong></p>\n<p>This tests for correct substitution order and may trap simple regexp based replacement routines if special regexp characters are not escaped.</p>\n<pre># BNF Syntax testing rules\nA -> apple\nWWWW -> with\nBgage -> ->.*\nB -> bag\n->.* -> money\nW -> WW\nS -> .shop\nT -> the\nthe shop -> my brother\na never used -> .terminating rule\n</pre>\n<p>Sample text of <code>I bought a B of As W my Bgage from T S.</code> should generate <code>I bought a bag of apples with my money from T shop.</code></p>\n<p><strong>Ruleset 4:</strong></p>\n<p>This tests for correct order of scanning of rules, and may trap replacement routines that scan in the wrong order. It implements a general unary multiplication engine. (Note that the input expression must be placed within underscores in this implementation.)</p>\n<pre>### Unary Multiplication Engine, for testing Markov Algorithm implementations\n### By Donal Fellows.\n# Unary addition engine\n_+1 -> _1+\n1+1 -> 11+\n# Pass for converting from the splitting of multiplication into ordinary\n# addition\n1! -> !1\n,! -> !+\n_! -> _\n# Unary multiplication by duplicating left side, right side times\n1*1 -> x,@y\n1x -> xX\nX, -> 1,1\nX1 -> 1X\n_x -> _X\n,x -> ,X\ny1 -> 1y\ny_ -> _\n# Next phase of applying\n1@1 -> x,@y\n1@_ -> @_\n,@_ -> !_\n++ -> +\n# Termination cleanup for addition\n_1 -> 1\n1+_ -> 1\n_+_ ->\n</pre>\n<p>Sample text of <code>_1111*11111_</code> should generate the output <code>11111111111111111111</code></p>\n<p><strong>Ruleset 5:</strong></p>\n<p>A simple <a href=\"http://en.wikipedia.org/wiki/Turing_machine\" title=\"link: http://en.wikipedia.org/wiki/Turing_machine\">Turing machine</a>, implementing a three-state <a href=\"http://en.wikipedia.org/wiki/Busy_beaver\" title=\"link: http://en.wikipedia.org/wiki/Busy_beaver\">busy beaver</a>.</p>\n<p>The tape consists of <code>0</code>s and <code>1</code>s, the states are <code>A</code>, <code>B</code>, <code>C</code> and <code>H</code> (for <code>H</code>alt), and the head position is indicated by writing the state letter before the character where the head is. All parts of the initial tape the machine operates on have to be given in the input.</p>\n<p>Besides demonstrating that the Markov algorithm is Turing-complete, it also made me catch a bug in the C++ implementation which wasn't caught by the first four rulesets.</p>\n<pre># Turing machine: three-state busy beaver\n#\n# state A, symbol 0 => write 1, move right, new state B\nA0 -> 1B\n# state A, symbol 1 => write 1, move left, new state C\n0A1 -> C01\n1A1 -> C11\n# state B, symbol 0 => write 1, move left, new state A\n0B0 -> A01\n1B0 -> A11\n# state B, symbol 1 => write 1, move right, new state B\nB1 -> 1B\n# state C, symbol 0 => write 1, move left, new state B\n0C0 -> B01\n1C0 -> B11\n# state C, symbol 1 => write 1, move left, halt\n0C1 -> H01\n1C1 -> H11\n</pre>\n<p>This ruleset should turn <code>000000A000000</code> into <code>00011H1111000</code></p>\n</section>",
  "boilerplate": "function markov(rules,test) {\n\n}",
  "url": "https://www.freecodecamp.org/learn/coding-interview-prep/rosetta-code/execute-a-markov-algorithm"
}